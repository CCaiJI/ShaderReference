# include
- 语法：#include ".cginc"  导入的这个文件可以在Assets路径中，当然一般在Resources,方便打包使用。
- cginc的文件相当于一个c#的静态函数库，include 把这个库导入进来，然后被编译进这个shader中。
# \#pragma 
- 作用：定义定义编译指令。
- \#pragma vert vertFunction
- \#pragma fragment fragFunction
##  multi_compile
- 作用：定义宏，用来不同的情况下开启不同的key，而不用简单的代码定义很多的shader脚本。
- 语法：\#pargma multi_compile key1,key2 用于全局性质的开关定义
- shader使用：在需要的代码处添加 #if key1 
- 开启方式：C#中Shader.EnableKey  / material.EnableKey
## shader_feature 
- 作用：multi_compile 一样，但是一般用来做局部，而不是全局性的。
- 语法：\#pargma shader_feature key1,key2 用于全局性质的开关定义
- 开关方式：可以通过[Toggle] 定义的变量开关，或者代码也可以，但是不建议。
- 并且shader_feature 未被使用的变体（就是key的各种组合）不会被打包出来。这个控制方式就是[Toggle(key)] 这样的属性
## [target](https://docs.unity3d.com/cn/2018.4/Manual/SL-ShaderCompileTargets.html)
- 语法：#pragma target 2.5
- 作用：定义编译等级，高级的用高级的api,但是支持的硬件也更少。
- 范围：2.5 （默认）、  3.0 、 3.5
- 2.5的最低要求： dx9,OpenGL ES 2.0 (某些设备可能无法完全支持)
- R{2.5}R大致内容：仍然8个插值器（TEXCOORD系列语义 （表uv）），没有显式的lod纹理采样  
- R{3.0}R大致内容：基本平台都支持，10个插值器，衍生指令（如：target 3.0 + 等高级定义），纹理LOD采样（根据lod采样纹理数据）
- R{3.5}R：更高的要求GL ES/DX11+ ...(着色器，纹理数据等中的本机整数运算)
- R{4.0}R：在 DX11+、OpenGL 3.2+、OpenGL ES 3.1+AEP、Vulkan 和 PS4/XB1 游戏主机上支持。
- R{4.5}R：在 DX11+ SM5.0（DX11 着色器模型 5.0。）、OpenGL 4.3+、OpenGL ES 3.1、Metal、Vulkan 和 PS4/XB1 游戏主机上支持。
- R{4.6}R：在 DX11+ SM5.0（DX11 着色器模型 5.0。）、OpenGL 4.1+、OpenGL ES 3.1+AEP、Vulkan、Metal（不含几何体）和 PS4/XB1 游戏主机上支持。
- R{5.0}R：在 DX11+ SM5.0（DX11 着色器模型 5.0。）、OpenGL 4.3+、OpenGL ES 3.1+AEP、Vulkan、Metal（不含几何体）和 PS4/XB1 游戏主机上支持。
## require
- 语法：\#pragma target 3.5
-       \#pragma require integers 2darray instancing
- 作用：如下的指令在特定的target下使用，表示在特定的target开启某些特定的功能。
- R{interpolators10}R：至少有 10 个顶点到片元插值器（“变化”）可用。
- R{interpolators15}R：至少有 15 个顶点到片元插值器（“变化”）可用。
- R{interpolators32}R：至少有 32 个顶点到片元插值器（“变化”）可用。
- R{mrt4}R：多个渲染目标，至少 4 个。
- R{mrt8}R：多个渲染目标，至少 8 个。
- R{derivatives}R：像素着色器衍生指令 (ddx/ddy)。
- R{samplelod}R：显式纹理 LOD 采样 (tex2Dlod / SampleLevel)。
- R{fragcoord}R：像素着色器中的像素位置（屏幕上的 XY，裁剪空间中的 ZW 深度）输入。
- R{integers}R：整数是一种实际的数据类型，包括位/移位操作。
- R{2darray}R：2D 纹理数组 (Texture2DArray)。
- R{cubearray}R：立方体贴图数组 (CubemapArray)。
- R{instancing}R：SV_InstanceID 输入系统值。
- R{geometry}R：DX10 几何着色器。
- R{compute}R：计算着色器、结构化缓冲区、原子操作。
- R{randomwrite}R：“随机写入”(UAV) 纹理。
- R{tesshw}R：GPU 支持硬件曲面细分，但不一定是曲面细分着色器阶段（例如，Metal 支持曲面细分，但不是通过着色器阶段）。
- R{tessellation}R：曲面细分外壳/域着色器阶段。
- R{msaatex}R：能够访问多重采样的纹理（HLSL 中的 Texture2DMS）。
- R{sparsetex}R：包含驻留信息的稀疏纹理（D3D 术语中的“Tier2”支持；CheckAccessFullyMapped HLSL 函数）。请注意，目前仅在 DX11/12 上实现。
- R{framebufferfetch}R：帧缓冲提取 - 能够在像素着色器中读取输入像素颜色。
- ================常用的特定平台：
- 2.5：derivatives
- 3.0：2.5 + interpolators10 + samplelod + fragcoord
- 3.5：3.0 + interpolators15 + mrt4 + integers + 2darray + instancing
- 4.0：3.5 + geometry
- 5.0：4.0 + compute + randomwrite + tesshw + tessellation
- 4.5：3.5 + compute + randomwrite
- 4.6：4.0 + cubearray + tesshw + tessellation
- ============注意：
- 在 Direct3D 术语中，Shader Model 4.0 也表示“mrt8”；而 Shader Model 5.0 表示“interpolators32”和“cubearray”。但是，这些并不能保证在大量移动平台上都可用。因此，为了向后兼容现有着色器，编写 #pragma target 4.0 不会自动要求 8 个 MRT 支持；而编写 #pragma target 5.0 不需要 32 个插值器和立方体贴图数组。
## only_renderers/exclude_renderers
- only_renderers作用：仅仅编译指定的渲染器
- exclude_renderers作用：排除某些渲染器
- 语法：#pragma only_renderers d3d11 gles
- ================ 渲染器
- R{d3d11   }R   对应平台： Direct3D 11/12
- R{glcore  }R   对应平台： OpenGL 3.x/4.x
- R{gles    }R   对应平台： OpenGL ES 2.0
- R{gles3   }R   对应平台： OpenGL ES 3.x
- R{metal   }R   对应平台： iOS/Mac Metal
- R{vulkan  }R   对应平台： Vulkan
- R{d3d11_9x}R   对应平台： Direct3D 11 9.x 功能级别，通常在 WSA 平台上使用
- R{xboxone }R   对应平台： Xbox One
- R{ps4     }R   对应平台： PlayStation 4
- R{n3ds    }R   对应平台： Nintendo 3DS
- R{wiiu    }R   对应平台： Nintendo Wii U
## hardware_tier_variants
- 作用：针对不同的硬件编写不同的Shader。
- 有：UNITY_HARDWARE_TIER1,UNITY_HARDWARE_TIER2,UNITY_HARDWARE_TIER3
- 定义方式：#pragma hardware_tier_variants UNITY_HARDWARE_TIER1  所选硬件层编译
- 设置方式：模拟方式Edit->Graphics Tier 设置
- 设置方式（代码）：一般会自动检测，如果没有检测到就需要手动设置Shader.globalShaderHardwareTier 覆盖
- 平台着色器设置：除了调整不同硬件层的着色器代码之外，您可能还需要调整 Unity 内部定义（例如，您可能希望在移动设备上强制使用级联阴影贴图）。
- 您可以在 UnityEditor.Rendering.PlatformShaderSettings 文档中找到与此相关的详细信息，其中提供了按层覆盖的最新支持功能的列表。 
- 使用 UnityEditor.Rendering.EditorGraphicsSettings.SetShaderSettingsForPlatform【弃用。使用TierSettings。】 可根据平台按层调整硬件着色器设置。
- 请注意，如果设置为不同层的 PlatformShaderSetting 不相同，则即使缺少 #pragma hardware_tier_variants，也会为着色器生成层变体。
